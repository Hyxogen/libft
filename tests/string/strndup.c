#include <ft/string.h>
#include <stdlib.h>
#include <assert.h>
#include <string.h>

static void test_one(const char *str)
{
	size_t n = strlen(str) * 2;

	while (n--) {
		char *dup1 = ft_strndup(str, n);
		char *dup2 = strndup(str, n);
		assert(!strcmp(dup1, dup2));
		free(dup1);
		free(dup2);
	}
}

int main()
{
	test_one("");
	test_one("hello world!");
	test_one(
		"0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
}
